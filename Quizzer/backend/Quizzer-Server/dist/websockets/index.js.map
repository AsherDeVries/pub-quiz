{"version":3,"sources":["../../src/websockets/index.js"],"names":["createWebsocketNamespaceForQuiznight","quiznightCode","webSocketServer","httpServer","quiznightNamespace","of","on","socket"],"mappings":";;;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAEO,IAAMA,sFAAuC,SAAvCA,oCAAuC,CAACC,aAAD,EAAmB;AACrE,MAAIC,kBAAkB,qBAAa,cAAIC,UAAjB,CAAtB;AACA,MAAIC,qBAAqBF,gBAAgBG,EAAhB,CAAmB,MAAMJ,aAAzB,CAAzB;;AAEAG,qBAAmBE,EAAnB,CAAsB,YAAtB,EAAoC,UAACC,MAAD,EAAY;AAC9C,kCAAsCA,MAAtC,EAA8CH,kBAA9C;AACA,kCAAsCG,MAAtC,EAA8CH,kBAA9C;AACA,6BAAiCG,MAAjC,EAAyCH,kBAAzC;AACD,GAJD;;AAMA,SAAOA,kBAAP;AACD,CAXM","file":"index.js","sourcesContent":["import app from '../app';\nimport enableFromQuizmasterWebsocketMessages from './messaging/quizmaster/from-quizmaster';\nimport enableFromScoreboardWebsocketMessages from './messaging/scoreboard/from-scoreboard';\nimport enableFromTeamsWebsocketMessages from './messaging/teams/from-teams';\nimport Quiznight from '../models/Quiznight';\nimport SocketIO from 'socket.io';\n\nexport const createWebsocketNamespaceForQuiznight = (quiznightCode) => {\n  let webSocketServer = new SocketIO(app.httpServer);\n  let quiznightNamespace = webSocketServer.of('/' + quiznightCode);\n\n  quiznightNamespace.on('connection', (socket) => {\n    enableFromQuizmasterWebsocketMessages(socket, quiznightNamespace);\n    enableFromScoreboardWebsocketMessages(socket, quiznightNamespace);\n    enableFromTeamsWebsocketMessages(socket, quiznightNamespace);\n  });\n\n  return quiznightNamespace;\n}"]}