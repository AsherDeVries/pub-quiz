{"version":3,"sources":["../../src/routes/quiznightRoutes.js"],"names":["quiznightRoute","post","req","res","params","quiznightId","body","forEach","element","hasBeenReviewed","update","_id","$push","rounds","chosenQuestions","then","send","get","find","data"],"mappings":";;;;;;AAAA;;AACA;;AAEA;;;;AACA;;;;;;kBAEe,YAAM;AACnB,MAAIA,iBAAiB,sBAArB;;AAEAA,iBAAeC,IAAf,CAAoB,sBAApB,EAA4C,UAACC,GAAD,EAAMC,GAAN,EAAc;AACxD,QAAID,IAAIE,MAAJ,CAAWC,WAAf,EAA4B;;AAE1BH,UAAII,IAAJ,CAASC,OAAT,CAAiB,mBAAW;AAC1BC,gBAAQC,eAAR,GAA0B,KAA1B;AACD,OAFD;;AAIA,0BAAUC,MAAV,CACE,EAAEC,KAAKT,IAAIE,MAAJ,CAAWC,WAAlB,EADF,EAEE;AACEO,eAAO;AACLC,kBAAQ;AACNC,6BAAiBZ,IAAII;AADf;AADH;AADT,OAFF,EASES,IATF,CASO;AAAA,eAAQZ,IAAIa,IAAJ,CAAS,OAAT,CAAR;AAAA,OATP;AAUD;AACF,GAlBD;;AAoBAhB,iBAAeiB,GAAf,CAAmB,GAAnB,EAAwB,UAACf,GAAD,EAAMC,GAAN,EAAc;AACpC,wBAAUe,IAAV,CAAe,EAAf,EAAmBH,IAAnB,CAAwB,gBAAQ;AAC9B,aAAOZ,IAAIa,IAAJ,CAASG,IAAT,CAAP;AACD,KAFD;AAGD,GAJD;;AAMA,SAAOnB,cAAP;AACD,C","file":"quiznightRoutes.js","sourcesContent":["import { version } from '../../package.json';\nimport { Router } from 'express';\n\nimport QuestionModel from '../models/Question';\nimport Quiznight from '../models/Quiznight';\n\nexport default () => {\n  let quiznightRoute = Router();\n  \n  quiznightRoute.post('/:quiznightId/rounds', (req, res) => {\n    if (req.params.quiznightId) {\n      \n      req.body.forEach(element => {\n        element.hasBeenReviewed = false;\n      });\n\n      Quiznight.update(\n        { _id: req.params.quiznightId },\n        { \n          $push: {\n            rounds: {\n              chosenQuestions: req.body,\n            }\n          }\n        } \n      ).then(data => res.send(\"saved\"))\n    }\n  });\n\n  quiznightRoute.get('/', (req, res) => {\n    Quiznight.find({}).then(data => {\n      return res.send(data);\n    })\n  })\n\n  return quiznightRoute;\n}"]}