{"version":3,"sources":["../../../src/websockets/start-quiznight/accept-teams.js"],"names":["socket","on","message","accepted","update","_id","quiznight","$pull","teams","teamName","then","webSocketServer","to","socket_id","emit","id"],"mappings":";;;;;;AAAA;;;;AACA;;;;AACA;;;;kBAEe,UAACA,MAAD,EAAY;AACzBA,SAAOC,EAAP,CAAU,aAAV,EAAyB,UAACC,OAAD,EAAa;AACpC,QAAG,CAACA,QAAQC,QAAZ,EAAsB;AACpB,0BAAUC,MAAV,CACE,EAAEC,KAAKH,QAAQI,SAAf,EADF,EAEE,EAAEC,OAAO,EAAEC,OAAO,EAAEH,KAAKH,QAAQO,QAAf,EAAT,EAAT,EAFF,EAGEC,IAHF,CAGO,YAAM;AACX,sBAAIC,eAAJ,CAAoBC,EAApB,CAAuBV,QAAQW,SAA/B,EAA0CC,IAA1C,CAA+C,SAA/C,EAA0D,gDAA1D;AACA,sBAAIH,eAAJ,CAAoBC,EAApB,CAAuBZ,OAAOe,EAA9B,EAAkCD,IAAlC,CAAuC,SAAvC,EAAkD,gDAAlD;AACD,OAND;AAOD;AACF,GAVD;AAWD,C","file":"accept-teams.js","sourcesContent":["import app from '../../app';\nimport Quiznight from '../../models/Quiznight';\nimport { socketIO } from '../server';\n\nexport default (socket) => {  \n  socket.on('ACCEPT_TEAM', (message) => {\n    if(!message.accepted) {\n      Quiznight.update(\n        { _id: message.quiznight },\n        { $pull: { teams: { _id: message.teamName } } }\n      ).then(() => {\n        app.webSocketServer.to(message.socket_id).emit(\"PENDING\", \"You have been rejected to join this quiznight.\");\n        app.webSocketServer.to(socket.id).emit(\"PENDING\", \"You have been rejected to join this quiznight.\");\n      });\n    }\n  });\n}"]}